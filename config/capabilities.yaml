# ==================== å·¥å…·åˆ†ç±»é…ç½® ====================
#
# ğŸ“Œ ä»…åŒ…å«å®é™…å­˜åœ¨çš„å·¥å…·æ¨¡å—ï¼ˆtools/ ç›®å½•ä¸‹ï¼‰
#
tool_classification:
  # å¸¸ç”¨å·¥å…·ï¼ˆä¸å»¶è¿ŸåŠ è½½ï¼‰
  frequent_tools:
    - plan

  # éœ€è¦æ³¨å…¥è¿è¡Œæ—¶ä¸Šä¸‹æ–‡çš„å·¥å…·ï¼ˆå¦‚ session_id, user_id ç­‰ï¼‰
  context_injection_tools:
    - api_calling

  # å¿…é¡»ä¸²è¡Œæ‰§è¡Œçš„å·¥å…·ï¼ˆå†™å…¥å…±äº«çŠ¶æ€ï¼Œä¸èƒ½å¹¶è¡Œï¼‰
  serial_only_tools:
    - plan
    - hitl

  # ç®€å•ä»»åŠ¡çš„ç²¾ç®€å·¥å…·é›†ï¼ˆcomplexity=simple æ—¶ä½¿ç”¨ï¼Œçœ tokenï¼‰
  simple_task_tools:
    - nodes
    - knowledge_search
    - hitl
    - memory_recall

  # å·¥å…·ç±»åˆ«ï¼ˆç®€å†™å±•å¼€ï¼‰
  categories:
    # æ–‡æ¡£ç”Ÿæˆèƒ½åŠ›ç”± xiaodazi Skills æä¾›ï¼Œä¸ä½¿ç”¨ Pre-built Skills

# ==================== èƒ½åŠ›ç±»åˆ«å®šä¹‰ ====================
#
# ğŸ“Œ å°æ­å­èƒ½åŠ›åˆ†ç±»ï¼ˆç²¾ç®€ç‰ˆï¼‰
#   - business: é¢å‘ç”¨æˆ·çš„ä¸šåŠ¡èƒ½åŠ›
#   - internal: æ¡†æ¶å†…éƒ¨èƒ½åŠ›
#
capability_categories:

# ========== ä¸šåŠ¡èƒ½åŠ›ç±»åˆ« ==========

- id: ppt_generation
  category_type: business
  description: PPT/æ¼”ç¤ºæ–‡ç¨¿ç”Ÿæˆ
  use_when: éœ€è¦åˆ›å»º PPTã€Slides
  examples:
    - åˆ¶ä½œäº§å“ PPT
    - ç”ŸæˆåŸ¹è®­ææ–™

- id: document_creation
  category_type: business
  description: æ–‡æ¡£ç”Ÿæˆï¼ˆWord/PDF/æŠ¥å‘Šï¼‰
  use_when: éœ€è¦åˆ›å»ºæ–‡å­—æ–‡æ¡£ã€æŠ¥å‘Š
  examples:
    - å†™ä¸€ä»½æŠ¥å‘Š
    - ç”Ÿæˆ PDF æ–‡æ¡£

- id: image_generation
  category_type: business
  description: å›¾ç‰‡ç”Ÿæˆ
  use_when: éœ€è¦ AI ç”Ÿæˆå›¾ç‰‡ã€æ’å›¾
  examples:
    - ç”Ÿæˆé…å›¾
    - è®¾è®¡ logo

- id: data_analysis
  category_type: business
  description: æ•°æ®åˆ†æ/ç»Ÿè®¡
  use_when: éœ€è¦å¤„ç† Excelã€åˆ†ææ•°æ®
  examples:
    - åˆ†æè¡¨æ ¼æ•°æ®
    - ç”Ÿæˆç»Ÿè®¡æŠ¥è¡¨

- id: audio_processing
  category_type: business
  description: éŸ³é¢‘å¤„ç†ï¼ˆTTS/STT/éŸ³é¢‘ç†è§£ï¼‰
  use_when: éœ€è¦è¯­éŸ³åˆæˆã€è¯­éŸ³è¯†åˆ«ã€éŸ³é¢‘åˆ†æ
  examples:
    - æŠŠè¿™æ®µè¯è½¬æˆè¯­éŸ³
    - å¸®æˆ‘å¬ä¸€ä¸‹è¿™ä¸ªéŸ³é¢‘è¯´äº†ä»€ä¹ˆ
    - åˆ†æè¿™æ®µå½•éŸ³

# ========== æ¡†æ¶å†…éƒ¨ç±»åˆ« ==========

- id: knowledge_base
  category_type: internal
  description: çŸ¥è¯†æ£€ç´¢ï¼ˆFTS5 + è¯­ä¹‰æ··åˆæœç´¢ï¼‰
  use_when: éœ€è¦æŸ¥æ‰¾ç”¨æˆ·æœ¬åœ°æ–‡æ¡£ã€çŸ¥è¯†åº“æ£€ç´¢
  examples:
    - æŸ¥æ‰¾æˆ‘çš„æ–‡æ¡£
    - æœç´¢æœ¬åœ°èµ„æ–™

- id: task_planning
  category_type: internal
  description: ä»»åŠ¡è§„åˆ’
  internal: true
  use_when: å¤æ‚ä»»åŠ¡çš„æ­¥éª¤æ‹†è§£å’Œè¿›åº¦è·Ÿè¸ª

- id: file_operations
  category_type: internal
  description: æ–‡ä»¶è¯»å†™æ“ä½œ
  internal: true
  use_when: éœ€è¦è¯»å–æˆ–ä¿å­˜æ–‡ä»¶
  examples:
    - æ–‡ä»¶ç®¡ç†
    - æ•´ç†æ–‡ä»¶å¤¹

- id: system_control
  category_type: internal
  description: ç³»ç»Ÿæ“ä½œï¼ˆå‘½ä»¤æ‰§è¡Œã€é€šçŸ¥ï¼‰
  internal: true
  use_when: éœ€è¦æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æˆ–å‘é€é€šçŸ¥

- id: screen_observation
  category_type: internal
  description: å±å¹•è§‚å¯Ÿ
  internal: true
  use_when: éœ€è¦æŸ¥çœ‹å±å¹•å†…å®¹

- id: task_scheduling
  category_type: internal
  description: å®šæ—¶ä»»åŠ¡/æé†’
  internal: true
  use_when: è®¾ç½®æé†’æˆ–å®šæ—¶ä»»åŠ¡

- id: api_calling
  category_type: internal
  description: API è°ƒç”¨ï¼ˆæ¡†æ¶å†…éƒ¨é€šç”¨å®ç°ï¼‰
  internal: true

# ==================== èƒ½åŠ›å®šä¹‰ ====================
#
# ğŸ“Œ åˆ†å±‚è¯´æ˜ï¼š
#   level 1: æ ¸å¿ƒå·¥å…·ï¼Œå§‹ç»ˆå¯ç”¨
#   level 2: åŠ¨æ€å·¥å…·ï¼ŒæŒ‰éœ€åŠ è½½
#
# invocation_hint:
#   SKILL_CONTAINER: Anthropic Pre-built Skills
#   DIRECT: æ ‡å‡† tool_use è°ƒç”¨
#

capabilities:

# Anthropic Pre-built Skillsï¼ˆpptx/xlsx/docx/pdfï¼‰å·²ç§»é™¤ï¼Œæ•ˆæœå·®ã€‚
# PPT/Excel/Word/PDF èƒ½åŠ›å…¨éƒ¨ç”± xiaodazi Skills æä¾›ã€‚

# ========== æ ¸å¿ƒå·¥å…·ï¼ˆLevel 1ï¼Œå§‹ç»ˆåŠ è½½ï¼‰==========

- name: api_calling
  type: TOOL
  subtype: CUSTOM
  provider: user
  level: 1
  implementation:
    module: tools.api_calling
    class: APICallingTool
  capabilities:
    - api_calling
  priority: 75
  cost:
    time: variable
    money: variable
  constraints:
    requires_api: false
    requires_network: true
  metadata:
    description: |
      é€šç”¨ HTTP API è°ƒç”¨å·¥å…·ï¼Œé…åˆ Skills æ–‡æ¡£ä½¿ç”¨ã€‚
      LLM ä» Skill æ–‡æ¡£ä¸­äº†è§£ API ç”¨æ³•ï¼Œç”¨æœ¬å·¥å…·å‘èµ·å®é™…è¯·æ±‚ã€‚
  input_schema:
    type: object
    properties:
      api_name:
        type: string
        description: é¢„é…ç½®çš„ API åç§°ï¼Œè‡ªåŠ¨æ³¨å…¥ base_url å’Œè®¤è¯
      path:
        type: string
        description: API è·¯å¾„ï¼ˆä¸ api_name é…åˆä½¿ç”¨ï¼‰
      url:
        type: string
        description: å®Œæ•´çš„ API URLï¼ˆä¸ api_name äºŒé€‰ä¸€ï¼‰
      method:
        type: string
        enum: [GET, POST, PUT, DELETE, PATCH]
        description: HTTP æ–¹æ³•ï¼ˆé»˜è®¤ POSTï¼‰
      headers:
        type: object
        description: é¢å¤–çš„è¯·æ±‚å¤´
      body:
        type: object
        description: è¯·æ±‚ä½“ï¼ˆå°†è‡ªåŠ¨è½¬ä¸º JSONï¼‰
      mode:
        type: string
        enum: [sync, stream, async_poll]
        description: è¯·æ±‚æ¨¡å¼ - sync(åŒæ­¥,é»˜è®¤)ã€stream(SSEæµå¼)ã€async_poll(å¼‚æ­¥è½®è¯¢)
      poll_config:
        type: object
        description: è½®è¯¢é…ç½®ï¼ˆä»… mode=async_poll æ—¶æœ‰æ•ˆï¼‰
    required: []

- name: knowledge_search
  type: TOOL
  subtype: NATIVE
  provider: user
  level: 1
  implementation:
    module: tools.knowledge_search
    class: KnowledgeSearchTool
  capabilities:
    - knowledge_base
  priority: 60
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
    requires_network: false
  metadata:
    description: |
      ä»ç”¨æˆ·æœ¬åœ°çŸ¥è¯†åº“æ£€ç´¢ä¿¡æ¯ï¼ˆFTS5 å…¨æ–‡ + å¯é€‰å‘é‡è¯­ä¹‰æœç´¢ï¼‰ã€‚
      é€‚ç”¨äºç”¨æˆ·æåˆ°"æˆ‘çš„æ–‡æ¡£"ã€"æˆ‘ä¸Šä¼ çš„èµ„æ–™"ã€ä¸ªäººçŸ¥è¯†å›å¿†åœºæ™¯ã€‚
    cache_stable: true
  input_schema:
    type: object
    properties:
      query:
        type: string
        description: æœç´¢æŸ¥è¯¢ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰
      limit:
        type: integer
        description: è¿”å›ç»“æœæ•°é‡ï¼ˆé»˜è®¤ 5ï¼‰
        default: 5
      file_type:
        type: string
        description: è¿‡æ»¤æ–‡ä»¶ç±»å‹ï¼ˆå¦‚ .md, .txt, .pdfï¼‰
    required: [query]

- name: memory_recall
  type: TOOL
  subtype: NATIVE
  provider: user
  level: 1
  implementation:
    module: tools.memory_recall
    class: MemoryRecallTool
  capabilities:
    - memory
    - user_profile
  priority: 70
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
    requires_network: false
  metadata:
    description: |
      æ£€ç´¢ç”¨æˆ·é•¿æœŸè®°å¿†ï¼ˆåå¥½ã€ä¹ æƒ¯ã€å†å²ç»éªŒç­‰ï¼‰ã€‚
      æ”¯æŒè¯­ä¹‰æœç´¢å’Œå®Œæ•´è®°å¿†æ¡£æ¡ˆè¯»å–ã€‚
      å½“ç”¨æˆ·è¯¢é—®"ä½ è®°ä½äº†ä»€ä¹ˆ"ã€"æˆ‘çš„åå¥½"æ—¶ä½¿ç”¨ã€‚
    cache_stable: false
  input_schema:
    type: object
    properties:
      query:
        type: string
        description: æœç´¢æŸ¥è¯¢ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰
      mode:
        type: string
        enum: [search, full]
        description: "search: è¯­ä¹‰æœç´¢ï¼›full: è¯»å–å®Œæ•´è®°å¿†æ¡£æ¡ˆ"
        default: search
      limit:
        type: integer
        description: æœç´¢æ¨¡å¼ä¸‹è¿”å›ç»“æœæ•°é‡ï¼ˆé»˜è®¤ 10ï¼‰
        default: 10
    required: [query]

- name: hitl
  type: TOOL
  subtype: CUSTOM
  provider: user
  level: 1
  implementation:
    module: tools.request_human_confirmation
    class: HITLTool
  capabilities:
    - human_interaction
    - confirmation
  priority: 100
  cost:
    time: variable
    money: free
  constraints:
    requires_api: false
    requires_user_interaction: true
  metadata:
    description: |
      è¯·æ±‚ç”¨æˆ·ç¡®è®¤æ“ä½œã€‚é€‚ç”¨äºï¼š
      - åˆ é™¤æ–‡ä»¶æˆ–æ•°æ®ç­‰å±é™©æ“ä½œ
      - ä¿®æ”¹é‡è¦é…ç½®
      - æ‰§è¡Œä¸å¯é€†æ“ä½œ
      - éœ€è¦ç”¨æˆ·é€‰æ‹©æ–¹æ¡ˆ
  input_schema:
    type: object
    properties:
      type:
        type: string
        enum: [form]
        description: HITL äº¤äº’ç±»å‹
        default: form
      title:
        type: string
        description: è¡¨å•æ ‡é¢˜
      description:
        type: string
        description: è¡¨å•æè¿°
      questions:
        type: array
        description: é—®é¢˜æ•°ç»„ï¼ˆsingle_choice / multiple_choiceï¼‰
        items:
          type: object
          properties:
            id:
              type: string
              description: é—®é¢˜å”¯ä¸€æ ‡è¯†
            label:
              type: string
              description: é—®é¢˜æ ‡ç­¾
            type:
              type: string
              enum: [single_choice, multiple_choice]
            options:
              type: array
              items:
                type: string
              description: é€‰é¡¹åˆ—è¡¨
            default:
              type: string
            required:
              type: boolean
              default: true
          required: [id, label, type]
      timeout:
        type: integer
        description: è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
        default: 120
    required: [title, questions]

- name: plan
  type: TOOL
  subtype: SESSION
  provider: user
  invocation_hint: DIRECT
  level: 1
  cache_stable: true
  implementation:
    module: tools.plan_todo_tool
    class: PlanTool
  capabilities:
    - task_planning
    - progress_tracking
  priority: 95
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
    session_scoped: true
  metadata:
    description: |
      ä»»åŠ¡è®¡åˆ’ç®¡ç†å·¥å…·ã€‚

      æ•°æ®ç»“æ„ï¼š
      - é¡¶å±‚ï¼šname, overview, plan, todos
      - todoï¼šid, title, content, status, result

      actionï¼š
      - create: åˆ›å»ºæ–°è®¡åˆ’
      - update: æ›´æ–°æ­¥éª¤çŠ¶æ€
      - rewrite: é‡å†™æ•´ä¸ªè®¡åˆ’
  input_schema:
    type: object
    properties:
      action:
        type: string
        enum: [create, update, rewrite]
      name:
        type: string
        description: è®¡åˆ’åç§°ï¼ˆcreate/rewrite æ—¶å¿…éœ€ï¼‰
      overview:
        type: string
        description: ä¸€å¥è¯ç›®æ ‡æ‘˜è¦
      plan:
        type: string
        description: è¯¦ç»†è®¡åˆ’æ–‡æ¡£
      todos:
        type: array
        description: æ­¥éª¤åˆ—è¡¨ï¼ˆcreate/rewrite æ—¶å¿…éœ€ï¼‰
        items:
          type: object
          properties:
            id:
              type: string
            title:
              type: string
            content:
              type: string
            status:
              type: string
              default: pending
              enum: [pending, in_progress, completed, failed]
          required: [title]
      todo_id:
        type: string
        description: æ­¥éª¤ IDï¼ˆupdate æ—¶å¿…éœ€ï¼‰
      status:
        type: string
        enum: [pending, in_progress, completed, failed]
      result:
        type: string
    required: [action]

- name: nodes
  type: TOOL
  subtype: CUSTOM
  provider: user
  invocation_hint: DIRECT
  level: 1
  cache_stable: true
  implementation:
    module: tools.nodes_tool
    class: NodesTool
  capabilities:
    - system_control
    - command_execution
    - notification
  priority: 80
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
  metadata:
    description: |
      å‘ç°å’Œæ“ä½œæœ¬åœ°/è¿œç¨‹èŠ‚ç‚¹ã€‚

      Actions:
      - status: åˆ—å‡ºæ‰€æœ‰èŠ‚ç‚¹çŠ¶æ€
      - describe: è·å–èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯
      - run: åœ¨èŠ‚ç‚¹ä¸Šæ‰§è¡Œ shell å‘½ä»¤
      - notify: å‘é€ç³»ç»Ÿé€šçŸ¥åˆ°èŠ‚ç‚¹
      - which: æ£€æŸ¥å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨
      - whitelist_add: å°†å‘½ä»¤åŠ å…¥ç™½åå•ï¼ˆéœ€å…ˆé€šè¿‡ hitl å¾å¾—ç”¨æˆ·åŒæ„ï¼‰
      - whitelist_info: æŸ¥çœ‹å½“å‰ç™½åå•çŠ¶æ€
  input_schema:
    type: object
    properties:
      action:
        type: string
        enum: [status, describe, run, notify, which, whitelist_add, whitelist_info]
      node:
        type: string
        description: ç›®æ ‡èŠ‚ç‚¹ IDï¼ˆé»˜è®¤ localï¼‰
        default: local
      command:
        type: array
        items:
          type: string
        description: è¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆrun actionï¼‰
      cwd:
        type: string
        description: å·¥ä½œç›®å½•ï¼ˆrun actionï¼‰
      env:
        type: object
        description: ç¯å¢ƒå˜é‡ï¼ˆrun actionï¼‰
      timeout_ms:
        type: integer
        default: 30000
      title:
        type: string
        description: é€šçŸ¥æ ‡é¢˜ï¼ˆnotify actionï¼‰
      message:
        type: string
        description: é€šçŸ¥å†…å®¹ï¼ˆnotify actionï¼‰
      subtitle:
        type: string
        description: é€šçŸ¥å‰¯æ ‡é¢˜ï¼ˆnotify actionï¼‰
      executable:
        type: string
        description: å¯æ‰§è¡Œæ–‡ä»¶åï¼ˆwhich actionï¼‰
      executables:
        type: array
        items:
          type: string
        description: è¦åŠ å…¥ç™½åå•çš„å‘½ä»¤åæˆ–å®Œæ•´è·¯å¾„åˆ—è¡¨ï¼ˆwhitelist_add actionï¼‰
    required: [action]

- name: browser
  type: TOOL
  subtype: CUSTOM
  provider: user
  invocation_hint: DIRECT
  level: 2
  cache_stable: false
  implementation:
    module: tools.browser
    class: BrowserTool
  capabilities:
    - web_interaction
    - browser_automation
  priority: 80
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
  metadata:
    description: |
      Playwright browser automation: navigate, text snapshot, click/type by ref.
      For web pages. Desktop apps use observe_screen + peekaboo instead.
  input_schema:
    type: object
    properties:
      action:
        type: string
        enum: [navigate, snapshot, click, type, select, screenshot, tabs, close]
        description: Browser action to perform
      url:
        type: string
        description: URL to navigate to (navigate action)
      ref:
        type: string
        description: Element ref from snapshot, e.g. 'e3' (click/type/select)
      text:
        type: string
        description: Text to type or option to select
      clear:
        type: boolean
        description: Clear field before typing (type action, default false)
      tab_id:
        type: string
        description: Tab ID to switch to (tabs action)
    required: [action]

- name: observe_screen
  type: TOOL
  subtype: CUSTOM
  provider: user
  invocation_hint: DIRECT
  level: 1
  cache_stable: false
  implementation:
    module: tools.observe_screen
    class: ObserveScreenTool
  capabilities:
    - screen_observation
    - ui_understanding
  priority: 85
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
  metadata:
    description: |
      æˆªå–å½“å‰å±å¹•æˆ–æŒ‡å®šåº”ç”¨çª—å£çš„æˆªå›¾ï¼Œä½¿æ¨¡å‹èƒ½ç›´æ¥ã€Œçœ‹åˆ°ã€å±å¹•å†…å®¹ã€‚
      é€‚ç”¨ï¼šæŸ¥çœ‹æ¡Œé¢/åº”ç”¨ç•Œé¢ã€åœ¨çª—å£ä¸­æŸ¥æ‰¾ä¿¡æ¯ã€æ ¹æ®ç”¨æˆ·æè¿°å®šä½å†…å®¹ã€‚
  input_schema:
    type: object
    properties:
      app:
        type: string
        description: åº”ç”¨åç§°ï¼ˆå¦‚ Safariï¼‰ï¼Œç”¨äºå®šä½çª—å£
      window_title:
        type: string
        description: çª—å£æ ‡é¢˜å…³é”®è¯
      mode:
        type: string
        enum: [screen, window, frontmost]
        default: screen
        description: æˆªå±èŒƒå›´
      description:
        type: string
        description: ç®€çŸ­è¯´æ˜æœ¬æ¬¡æˆªå±ç›®çš„
    required: []

- name: open_system_preferences
  type: TOOL
  subtype: CUSTOM
  provider: user
  invocation_hint: DIRECT
  level: 1
  cache_stable: true
  implementation:
    module: tools.open_system_preferences
    class: OpenSystemPreferencesTool
  capabilities:
    - system_settings
    - permission_management
  priority: 95
  cost:
    time: fast
    money: free
  constraints:
    requires_api: false
  metadata:
    description: |
      ç›´æ¥æ‰“å¼€ç³»ç»Ÿè®¾ç½®é¢æ¿ï¼Œè®©ç”¨æˆ·æˆæƒæŒ‡å®šæƒé™ã€‚
      æƒé™ä¸è¶³æ—¶ç›´æ¥è°ƒç”¨ï¼Œä¸è¦ç”¨æ–‡å­—æè¿°æ“ä½œæ­¥éª¤ã€‚
  input_schema:
    type: object
    properties:
      permission:
        type: string
        enum: [screen_recording, accessibility, camera, location, full_disk_access, automation, notifications]
        description: è¦æ‰“å¼€çš„æƒé™è®¾ç½®ç±»å‹
    required: [permission]

- name: scheduled_task
  type: TOOL
  subtype: CUSTOM
  provider: user
  invocation_hint: DIRECT
  level: 1
  cache_stable: false
  implementation:
    module: tools.scheduled_task_tool
    class: ScheduledTaskTool
  capabilities:
    - task_scheduling
    - reminder
  priority: 90
  cost:
    time: fast
    money: low
  constraints:
    requires_api: false
  metadata:
    description: |
      å®šæ—¶ä»»åŠ¡ç®¡ç†å·¥å…·ã€‚

      è§¦å‘ç±»å‹ï¼š
      - once: å•æ¬¡æ‰§è¡Œï¼ˆæŒ‡å®šå…·ä½“æ—¶é—´ï¼‰
      - cron: Cron è¡¨è¾¾å¼
      - interval: å›ºå®šé—´éš”

      åŠ¨ä½œç±»å‹ï¼š
      - send_message: å‘é€æé†’æ¶ˆæ¯
      - agent_task: è®© AI æ‰§è¡Œä»»åŠ¡
  input_schema:
    type: object
    properties:
      operation:
        type: string
        enum: [create, list, cancel, update]
      task_id:
        type: string
        description: ä»»åŠ¡ IDï¼ˆæ›´æ–°/å–æ¶ˆæ—¶å¿…å¡«ï¼‰
      title:
        type: string
      trigger_type:
        type: string
        enum: [once, cron, interval]
      trigger_config:
        type: object
        properties:
          run_at:
            type: string
            description: ISO æ ¼å¼æ—¶é—´ï¼ˆonce æ—¶ä½¿ç”¨ï¼‰
          cron:
            type: string
            description: Cron è¡¨è¾¾å¼
          interval_seconds:
            type: integer
      action:
        type: object
        properties:
          type:
            type: string
            enum: [send_message, agent_task]
          content:
            type: string
            description: æé†’å†…å®¹ï¼ˆsend_messageï¼‰
          prompt:
            type: string
            description: ä»»åŠ¡æè¿°ï¼ˆagent_taskï¼‰
    required: [operation]

# ========== åŠ¨æ€å·¥å…·ï¼ˆLevel 2ï¼ŒæŒ‰éœ€åŠ è½½ï¼‰==========

- name: audio_processing
  type: TOOL
  subtype: CUSTOM
  provider: user
  invocation_hint: DIRECT
  level: 2
  cache_stable: false
  implementation:
    module: tools.audio_processing
    class: AudioProcessingTool
  capabilities:
    - audio_processing
    - tts
    - stt
  priority: 70
  cost:
    time: variable
    money: low
  constraints:
    requires_api: true
    requires_network: true
  metadata:
    description: |
      Audio processing tool: TTS, STT, and audio understanding.
      - tts: Convert text to speech audio file
      - stt: Transcribe audio file to text
      - understand: Analyze audio content with multimodal model
  input_schema:
    type: object
    properties:
      action:
        type: string
        enum: [tts, stt, understand]
        description: "tts = text to speech, stt = speech to text, understand = audio analysis"
      text:
        type: string
        description: Input text (TTS action)
      audio_url:
        type: string
        description: Audio file path or URL (STT/understand actions)
      voice:
        type: string
        description: TTS voice (optional)
      model:
        type: string
        description: Model to use (optional, auto-selected)
      format:
        type: string
        enum: [wav, mp3, opus, aac, flac, pcm]
        description: Output audio format (TTS, default wav)
    required: [action]

# ========== å†…ç½®ä»£ç æ‰§è¡Œ ==========

- name: code_execution
  type: CODE
  subtype: DYNAMIC
  provider: anthropic
  capabilities:
    - dynamic_execution
    - custom_logic
  priority: 40
  cost:
    time: variable
    money: free
  constraints:
    requires_api: false
  metadata:
    description: Execute Python code dynamically via code_execution
