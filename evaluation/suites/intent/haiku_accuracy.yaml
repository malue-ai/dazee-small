# Haiku æ„å›¾è¯†åˆ«å‡†ç¡®ç‡æµ‹è¯•å¥—ä»¶
#
# ç›®æ ‡ï¼šéªŒè¯ä½¿ç”¨ Haiku æ¨¡å‹è¿›è¡Œæ„å›¾è¯†åˆ«çš„å‡†ç¡®ç‡
# æµ‹è¯•ç»´åº¦ï¼š
#   1. åˆ†ç±»å‡†ç¡®ç‡ï¼ˆtask_type, complexity, needs_multi_agentï¼‰
#   2. å­—æ®µä¸€è‡´æ€§ï¼ˆçº¦æŸéµå¾ªï¼‰
#   3. ç¨³å®šæ€§ï¼ˆå¤šæ¬¡è¿è¡Œç»“æœä¸€è‡´æ€§ï¼‰
#   4. è¿½é—®è¯†åˆ«ï¼ˆä¸Šä¸‹æ–‡ç†è§£ï¼‰
#   5. ä»»åŠ¡ä¾èµ–ç±»å‹ï¼ˆtask_dependency_type: independent/sequential/mixedï¼‰
#   6. ä¾èµ–ç±»å‹ä¸å¤šæ™ºèƒ½ä½“å†³ç­–ä¸€è‡´æ€§
#
# ä½¿ç”¨æ–¹å¼ï¼š
#   python tests/test_e2e_intent_accuracy.py

id: intent_haiku_accuracy
name: "Haiku æ„å›¾è¯†åˆ«å‡†ç¡®ç‡æµ‹è¯•"
description: "åˆæˆçœŸå®ç”¨æˆ·åœºæ™¯ï¼ŒéªŒè¯ IntentAnalyzer è¾“å‡ºå‡†ç¡®ç‡"
default_trials: 3

metadata:
  version: "1.0.0"
  author: "ZenFlux Team"
  created_at: "2026-01-26"
  model: "haiku"
  priority: P0

# ============================================================
# æµ‹è¯•ç”¨ä¾‹
# ============================================================

tasks:
  # ==================== 1. ç®€å•å•è½®ï¼ˆé¢„æœŸå‡†ç¡®ç‡ 95%+ï¼‰====================
  
  - id: simple_weather
    description: "ç®€å•å¤©æ°”æŸ¥è¯¢"
    category: simple_single_turn
    input:
      user_query: "ä¸Šæµ·ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"
    expected:
      task_type: information_query
      complexity: simple
      needs_plan: false
      needs_multi_agent: false
      skip_memory_retrieval: true
      execution_strategy: rvr
      suggested_planning_depth: none
    tags: ["simple", "single_turn", "weather"]

  - id: simple_translate
    description: "ç®€å•ç¿»è¯‘"
    input:
      user_query: "å¸®æˆ‘æŠŠ'ä½ å¥½ä¸–ç•Œ'ç¿»è¯‘æˆè‹±æ–‡"
    expected:
      task_type: content_generation
      complexity: simple
      needs_plan: false
      needs_multi_agent: false
      skip_memory_retrieval: true
    tags: ["simple", "translate"]

  - id: simple_math
    description: "ç®€å•æ•°å­¦"
    input:
      user_query: "1+1ç­‰äºå‡ ï¼Ÿ"
    expected:
      task_type: information_query
      complexity: simple
      needs_plan: false
      execution_strategy: rvr
    tags: ["simple", "math"]

  - id: simple_concept
    description: "ç®€å•æ¦‚å¿µæŸ¥è¯¢"
    input:
      user_query: "Python æ˜¯ä»€ä¹ˆï¼Ÿ"
    expected:
      task_type: information_query
      complexity: simple
      needs_plan: false
      skip_memory_retrieval: true
    tags: ["simple", "concept"]

  - id: simple_time
    description: "æ—¶é—´æŸ¥è¯¢"
    input:
      user_query: "ç°åœ¨å‡ ç‚¹äº†ï¼Ÿ"
    expected:
      task_type: information_query
      complexity: simple
      needs_plan: false
      needs_multi_agent: false
    tags: ["simple", "time"]

  # ==================== 2. ä¸­ç­‰å¤æ‚åº¦ä»»åŠ¡ ====================

  - id: medium_code_function
    description: "ä¸­ç­‰ - å†™ä¸€ä¸ªå‡½æ•°"
    category: medium_task
    input:
      user_query: "å¸®æˆ‘å†™ä¸€ä¸ª Python å¿«é€Ÿæ’åºå‡½æ•°"
    expected:
      task_type: code_task
      needs_multi_agent: false
    tolerance:
      task_type: [code_task, other]  # LLM å¯èƒ½å°†ç®€å•ä»£ç ä»»åŠ¡å½’ä¸º other
      complexity: [simple, medium]
      needs_plan: [true, false]
    tags: ["medium", "code"]

  - id: medium_search_summarize
    description: "ä¸­ç­‰ - æœç´¢å¹¶æ€»ç»“"
    input:
      user_query: "æœç´¢ä¸€ä¸‹æœ€æ–°çš„ AI æ–°é—»å¹¶æ€»ç»“"
    expected:
      task_type: information_query
      complexity: medium
      needs_plan: true
      needs_multi_agent: false
      tool_usage_hint: sequential
    tags: ["medium", "search", "summarize"]

  - id: medium_data_analysis
    description: "ä¸­ç­‰ - æ•°æ®åˆ†æ"
    input:
      user_query: "åˆ†æä¸€ä¸‹è¿™ä»½é”€å”®æ•°æ®ï¼Œæ‰¾å‡ºå¢é•¿ç‚¹"
    expected:
      task_type: data_analysis
      complexity: medium
      needs_plan: true
      needs_multi_agent: false
    tags: ["medium", "data_analysis"]

  - id: medium_ppt_simple
    description: "ä¸­ç­‰ - ç®€å• PPT"
    input:
      user_query: "å¸®æˆ‘åšä¸€ä¸ªç®€å•çš„è‡ªæˆ‘ä»‹ç» PPT"
    expected:
      task_type: content_generation
      needs_multi_agent: false
    tolerance:
      complexity: [simple, medium]
      needs_plan: [true, false]  # ç®€å• PPT å¯èƒ½ä¸éœ€è¦è§„åˆ’
    tags: ["medium", "ppt"]

  # ==================== 3. å¤æ‚ä»»åŠ¡ ====================

  - id: complex_ppt_research
    description: "å¤æ‚ - è°ƒç ”å¹¶å†™æŠ¥å‘Š"
    category: complex_task
    input:
      user_query: "è°ƒç ”ç«å“å¸‚åœºï¼Œåˆ†æç”¨æˆ·éœ€æ±‚ï¼Œåˆ¶å®šäº§å“ç­–ç•¥ï¼Œå†™ä¸€ä»½å®Œæ•´çš„äº§å“è§„åˆ’ä¹¦"
    expected:
      complexity: complex
      needs_plan: true
      execution_strategy: rvr-b
    tolerance:
      task_type: [content_generation, data_analysis]  # ä¸¤ç§éƒ½åˆç†
      suggested_planning_depth: [full, null]
    tags: ["complex", "research", "ppt"]

  - id: complex_system_design
    description: "å¤æ‚ - ç³»ç»Ÿè®¾è®¡"
    input:
      user_query: "å¸®æˆ‘è®¾è®¡ä¸€ä¸ªå®Œæ•´çš„ç”µå•†ç³»ç»Ÿï¼ŒåŒ…æ‹¬ç”¨æˆ·æ¨¡å—ã€å•†å“æ¨¡å—ã€è®¢å•æ¨¡å—å’Œæ”¯ä»˜æ¨¡å—"
    expected:
      complexity: complex
      needs_plan: true
      execution_strategy: rvr-b
    tolerance:
      task_type: [code_task, content_generation, other]  # è®¾è®¡å¯èƒ½è¢«å½’ä¸ºå¤šç§ç±»å‹
    tags: ["complex", "system_design"]

  - id: complex_full_stack
    description: "å¤æ‚ - å…¨æ ˆå¼€å‘"
    input:
      user_query: "å¸®æˆ‘å¼€å‘ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æ³¨å†Œç™»å½•åŠŸèƒ½ï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢å’Œåç«¯ API"
    expected:
      task_type: code_task
      complexity: complex
      needs_plan: true
      execution_strategy: rvr-b
    tolerance:
      task_type: [code_task, other]  # å¼€å‘ä»»åŠ¡å¯èƒ½è¢«è¯†åˆ«ä¸º other
      complexity: [medium, complex]
    tags: ["complex", "fullstack"]

  # ==================== 4. æ¨¡ç³Š Queryï¼ˆé¢„æœŸå‡†ç¡®ç‡ 70-80%ï¼‰====================

  - id: vague_process
    description: "æ¨¡ç³Šè¯·æ±‚ - å¤„ç†"
    category: vague_query
    input:
      user_query: "å¸®æˆ‘å¤„ç†ä¸€ä¸‹è¿™ä¸ª"
    expected:
      # é¢„æœŸï¼šæ¨¡ç³Šè¯·æ±‚ï¼Œæ— æ³•æ˜ç¡®åˆ¤æ–­
      complexity: simple
    tolerance:
      task_type: any  # å…è®¸ä»»ä½• task_type
      complexity: [simple, medium]  # æ¨¡ç³Šè¯·æ±‚é€šå¸¸è¢«åˆ¤æ–­ä¸ºç®€å•
      needs_plan: [true, false]  # ä¸¤ç§éƒ½å¯æ¥å—
    tags: ["vague", "ambiguous"]

  - id: vague_help
    description: "æ¨¡ç³Šè¯·æ±‚ - å¸®å¿™"
    input:
      user_query: "ä½ èƒ½å¸®æˆ‘å—ï¼Ÿ"
    expected:
      complexity: simple
      needs_plan: false
    tolerance:
      task_type: [information_query, other]
      complexity: [simple, medium]
    tags: ["vague", "help"]

  - id: vague_look
    description: "æ¨¡ç³Šè¯·æ±‚ - çœ‹çœ‹"
    input:
      user_query: "å¸®æˆ‘çœ‹çœ‹è¿™ä¸ªæ€ä¹ˆæ ·"
    expected:
      needs_plan: false
    tolerance:
      task_type: any
      complexity: [simple, medium]
    tags: ["vague"]

  # ==================== 5. è¿½é—®è¯†åˆ«ï¼ˆé¢„æœŸå‡†ç¡®ç‡ 80-85%ï¼‰====================

  - id: followup_continue
    description: "è¿½é—® - ç„¶åå‘¢"
    category: followup
    input:
      conversation_history:
        - role: user
          content: "å¸®æˆ‘åˆ†æè¿™ä»½é”€å”®æ•°æ®"
        - role: assistant
          content: "å¥½çš„ï¼Œæˆ‘æ¥åˆ†æè¿™ä»½æ•°æ®ã€‚ä»å›¾è¡¨çœ‹ï¼ŒQ1 å¢é•¿äº† 15%..."
      user_query: "ç„¶åå‘¢ï¼Ÿ"
    expected:
      is_follow_up: true
      task_type: data_analysis  # åº”ç»§æ‰¿ä¸Šæ–‡çš„ä»»åŠ¡ç±»å‹
    tolerance:
      task_type: [data_analysis, other, information_query]  # å®¹å·®ï¼šçŸ­è¿½é—®å¯èƒ½è¢«å½’ä¸ºå¤šç§ç±»å‹
    tags: ["followup", "continue"]

  - id: followup_pronoun
    description: "è¿½é—® - ä»£è¯å¼•ç”¨"
    input:
      conversation_history:
        - role: user
          content: "å¸®æˆ‘å†™ä¸ª Python æ’åºç®—æ³•"
        - role: assistant
          content: "å¯ä»¥ç”¨ sorted() å‡½æ•°æˆ–è€…æ‰‹å†™å¿«æ’..."
      user_query: "é‚£å¦‚æœè¦é™åºå‘¢ï¼Ÿ"
    expected:
      is_follow_up: true
    tolerance:
      task_type: [code_task, other, information_query]  # è¿½é—®å¯èƒ½è¢«å½’ä¸ºå¤šç§ç±»å‹
    tags: ["followup", "pronoun"]

  - id: followup_short
    description: "è¿½é—® - çŸ­å¥"
    input:
      conversation_history:
        - role: user
          content: "å¸®æˆ‘åˆ†æç«å“ A çš„åŠŸèƒ½"
        - role: assistant
          content: "ç«å“ A çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬..."
      user_query: "B å‘¢ï¼Ÿ"
    expected:
      is_follow_up: true
      task_type: data_analysis
    tolerance:
      task_type: [data_analysis, information_query]
    tags: ["followup", "short"]

  - id: followup_polish
    description: "è¿½é—® - æ¶¦è‰²"
    input:
      conversation_history:
        - role: user
          content: "ç¿»è¯‘è¿™æ®µè¯æˆè‹±æ–‡"
        - role: assistant
          content: "Here is the translation..."
      user_query: "å†å¸®æˆ‘æ¶¦è‰²ä¸€ä¸‹"
    expected:
      is_follow_up: true
      task_type: content_generation
    tolerance:
      complexity: [simple, medium]  # æ¶¦è‰²å¯èƒ½è¢«åˆ¤æ–­ä¸ºç®€å•æˆ–ä¸­ç­‰
    tags: ["followup", "polish"]

  - id: followup_topic_switch
    description: "è¯é¢˜åˆ‡æ¢ï¼ˆéè¿½é—®ï¼‰"
    input:
      conversation_history:
        - role: user
          content: "å¸®æˆ‘å†™ä¸ªå‘¨æŠ¥"
        - role: assistant
          content: "å¥½çš„ï¼Œæ­£åœ¨ç”Ÿæˆå‘¨æŠ¥..."
      user_query: "ä¸Šæµ·ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"
    expected:
      is_follow_up: false
      task_type: information_query
    tolerance:
      # å¦‚æœ LLM é”™è¯¯è¯†åˆ«ä¸ºè¿½é—®ï¼Œå¯èƒ½ä¼šç»§æ‰¿ä¸Šæ–‡çš„ task_type
      task_type: [information_query, content_generation]
    tags: ["followup", "topic_switch"]

  - id: followup_new_task
    description: "æ–°ä»»åŠ¡ï¼ˆéè¿½é—®ï¼‰"
    input:
      conversation_history:
        - role: user
          content: "å¸®æˆ‘æŸ¥ä¸€ä¸‹æ˜å¤©çš„èˆªç­"
        - role: assistant
          content: "æ˜å¤©æœ‰ä»¥ä¸‹èˆªç­..."
      user_query: "å¸®æˆ‘å†™ä¸€ä¸ªäº§å“æ–¹æ¡ˆ"
    expected:
      is_follow_up: false
      task_type: content_generation
    tags: ["followup", "new_task"]

  # ==================== 6. å¤šæ™ºèƒ½ä½“åˆ¤æ–­ï¼ˆé¢„æœŸå‡†ç¡®ç‡ 75-85%ï¼‰====================

  - id: multi_agent_clear
    description: "æ˜ç¡®éœ€è¦å¤šæ™ºèƒ½ä½“ - Top N ç ”ç©¶"
    category: multi_agent
    input:
      user_query: "ç ”ç©¶ Top 5 äº‘è®¡ç®—å…¬å¸çš„ AI æˆ˜ç•¥ï¼Œç”Ÿæˆåˆ†ææŠ¥å‘Š"
    expected:
      needs_multi_agent: true
      task_dependency_type: mixed
      complexity: complex
    tags: ["multi_agent", "research", "top_n"]

  - id: multi_agent_compare_3
    description: "å¤šå®ä½“å¯¹æ¯” - 3ä¸ª"
    input:
      user_query: "å¯¹æ¯” AWSã€Azureã€GCP ä¸‰å®¶äº‘æœåŠ¡å•†çš„å®šä»·ç­–ç•¥"
    expected:
      needs_multi_agent: true
      task_dependency_type: mixed
    tolerance:
      task_dependency_type: [mixed, independent]
    tags: ["multi_agent", "compare"]

  - id: multi_agent_compare_4
    description: "å¤šå®ä½“å¯¹æ¯” - 4ä¸ª"
    input:
      user_query: "è°ƒç ” TensorFlowã€PyTorchã€Jaxã€PaddlePaddle çš„æ€§èƒ½å¯¹æ¯”"
    expected:
      needs_multi_agent: true
      task_dependency_type: mixed
    tolerance:
      task_dependency_type: [mixed, independent]
    tags: ["multi_agent", "compare", "framework"]

  - id: multi_agent_parallel_query
    description: "å¤šåŸå¸‚å¹¶è¡ŒæŸ¥è¯¢"
    input:
      user_query: "åŒæ—¶æŸ¥è¯¢åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³å››ä¸ªåŸå¸‚çš„å¤©æ°”"
    expected:
      needs_multi_agent: true
      task_dependency_type: independent
      tool_usage_hint: parallel
    tags: ["multi_agent", "parallel"]

  - id: multi_agent_boundary_2
    description: "è¾¹ç•Œæƒ…å†µ - 2ä¸ªå®ä½“ï¼ˆä¸åº”å¤šæ™ºèƒ½ä½“ï¼‰"
    input:
      user_query: "å¯¹æ¯” Python å’Œ JavaScript çš„æ€§èƒ½"
    expected:
      needs_multi_agent: false
      task_dependency_type: independent
    tags: ["multi_agent", "boundary"]

  - id: single_agent_serial
    description: "å¤æ‚ä½†ä¸²è¡Œï¼ˆä¸åº”å¤šæ™ºèƒ½ä½“ï¼‰"
    input:
      user_query: "å¸®æˆ‘å†™ä¸€ä¸ª Python æ’åºç®—æ³•å¹¶è¡¥å……å•å…ƒæµ‹è¯•"
    expected:
      needs_multi_agent: false
      task_dependency_type: sequential
      complexity: medium
    tolerance:
      complexity: [simple, medium]
    tags: ["single_agent", "serial"]

  - id: single_agent_ppt
    description: "PPT ç”Ÿæˆï¼ˆä¸åº”å¤šæ™ºèƒ½ä½“ï¼‰"
    input:
      user_query: "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªäº§å“ä»‹ç» PPT"
    expected:
      needs_multi_agent: false
      task_dependency_type: sequential
    tags: ["single_agent", "ppt"]

  - id: single_agent_translate
    description: "é•¿æ–‡æ¡£ç¿»è¯‘ï¼ˆä¸åº”å¤šæ™ºèƒ½ä½“ï¼‰"
    input:
      user_query: "å¸®æˆ‘æŠŠè¿™ç¯‡ 10 é¡µçš„è‹±æ–‡è®ºæ–‡ç¿»è¯‘æˆä¸­æ–‡"
    expected:
      needs_multi_agent: false
      task_dependency_type: sequential
    tags: ["single_agent", "translate"]

  # ==================== 7. å­—æ®µä¸€è‡´æ€§ï¼ˆé¢„æœŸå‡†ç¡®ç‡ 85-90%ï¼‰====================

  - id: consistency_simple
    description: "å­—æ®µä¸€è‡´æ€§ - ç®€å•ä»»åŠ¡"
    category: consistency
    input:
      user_query: "1+1ç­‰äºå‡ ï¼Ÿ"
    expected:
      complexity: simple
      needs_plan: false
      suggested_planning_depth: none
      execution_strategy: rvr
    consistency_rules:
      - "complexity == 'simple' implies needs_plan == false"
      - "complexity == 'simple' implies execution_strategy == 'rvr'"
      - "complexity == 'simple' implies suggested_planning_depth in [null, 'none']"
    tags: ["consistency", "simple"]

  - id: consistency_complex
    description: "å­—æ®µä¸€è‡´æ€§ - å¤æ‚ä»»åŠ¡"
    input:
      user_query: "è°ƒç ”ç«å“å¸‚åœºï¼Œåˆ†æç”¨æˆ·éœ€æ±‚ï¼Œåˆ¶å®šäº§å“ç­–ç•¥ï¼Œå†™ä¸€ä»½å®Œæ•´çš„äº§å“è§„åˆ’ä¹¦"
    expected:
      complexity: complex
      needs_plan: true
      suggested_planning_depth: full
      execution_strategy: rvr-b
    consistency_rules:
      - "complexity == 'complex' implies needs_plan == true"
      - "complexity == 'complex' implies execution_strategy == 'rvr-b'"
      - "complexity == 'complex' implies suggested_planning_depth == 'full'"
    tags: ["consistency", "complex"]

  - id: consistency_medium
    description: "å­—æ®µä¸€è‡´æ€§ - ä¸­ç­‰ä»»åŠ¡"
    input:
      user_query: "å¸®æˆ‘å†™ä¸€ä¸ª Python å‡½æ•°å®ç°å¿«é€Ÿæ’åº"
    expected:
      complexity: medium
      needs_plan: true
    tolerance:
      complexity: [simple, medium]
      needs_plan: [true, false]
      execution_strategy: [rvr, rvr-b]
    consistency_rules:
      - "complexity == 'medium' implies needs_plan == true"
    tags: ["consistency", "medium"]

  # ==================== 8. è®°å¿†æ£€ç´¢åˆ¤æ–­ ====================

  - id: memory_skip_factual
    description: "äº‹å®æŸ¥è¯¢ - åº”è·³è¿‡è®°å¿†"
    category: memory
    input:
      user_query: "1ç¾å…ƒç­‰äºå¤šå°‘äººæ°‘å¸ï¼Ÿ"
    expected:
      skip_memory_retrieval: true
    tags: ["memory", "skip"]

  - id: memory_skip_concept
    description: "ç™¾ç§‘çŸ¥è¯† - åº”è·³è¿‡è®°å¿†"
    input:
      user_query: "ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"
    expected:
      skip_memory_retrieval: true
    tags: ["memory", "skip"]

  - id: memory_skip_weather
    description: "å¤©æ°”æŸ¥è¯¢ - åº”è·³è¿‡è®°å¿†"
    input:
      user_query: "ä»Šå¤©ä¸Šæµ·å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"
    expected:
      skip_memory_retrieval: true
    tags: ["memory", "skip"]

  - id: memory_need_preference
    description: "ä¸ªæ€§åŒ–ä»»åŠ¡ - éœ€è¦è®°å¿†"
    input:
      user_query: "æŒ‰ç…§æˆ‘ä¹‹å‰è¯´çš„é£æ ¼ï¼Œå¸®æˆ‘å†™ä¸ªé‚®ä»¶"
    expected:
      skip_memory_retrieval: false
    tags: ["memory", "need"]

  - id: memory_need_ppt
    description: "PPT ç”Ÿæˆ - å¯èƒ½éœ€è¦è®°å¿†"
    input:
      user_query: "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªäº§å“ä»‹ç» PPT"
    expected:
      skip_memory_retrieval: false
    tags: ["memory", "need"]

  - id: memory_need_code
    description: "ä»£ç é£æ ¼ - å¯èƒ½éœ€è¦è®°å¿†"
    input:
      user_query: "å¸®æˆ‘å†™ä¸€æ®µ Python ä»£ç å®ç°æ’åº"
    expected:
      skip_memory_retrieval: false
    tolerance:
      skip_memory_retrieval: [true, false]  # ä¸¤ç§éƒ½å¯æ¥å—
    tags: ["memory", "optional"]

  # ==================== 9. æ‰§è¡Œç­–ç•¥ ====================

  - id: strategy_rvr_simple
    description: "ç¡®å®šæ€§ä»»åŠ¡ - RVR"
    category: execution_strategy
    input:
      user_query: "æŸ¥ä¸€ä¸‹åŒ—äº¬ç°åœ¨å‡ ç‚¹"
    expected:
      execution_strategy: rvr
      complexity: simple
    tags: ["strategy", "rvr"]

  - id: strategy_rvr_translate
    description: "ç¿»è¯‘ä»»åŠ¡ - RVR"
    input:
      user_query: "ç¿»è¯‘è¿™å¥è¯ï¼šHello World"
    expected:
      execution_strategy: rvr
    tags: ["strategy", "rvr"]

  - id: strategy_rvrb_explore
    description: "æ¢ç´¢æ€§ä»»åŠ¡ - RVR-B"
    input:
      user_query: "å¸®æˆ‘å¼€å‘ä¸€ä¸ªç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼ŒåŒ…æ‹¬å‰åç«¯"
    expected:
      execution_strategy: rvr-b
      needs_plan: true
    tags: ["strategy", "rvr-b"]

  - id: strategy_rvrb_research
    description: "è°ƒç ”ä»»åŠ¡ - RVR-B"
    input:
      user_query: "è°ƒç ”å¹¶å†™ä¸€ä»½è¡Œä¸šåˆ†ææŠ¥å‘Š"
    expected:
      execution_strategy: rvr-b
      needs_plan: true
    tags: ["strategy", "rvr-b"]

  # ==================== 10. è¾¹ç¼˜æƒ…å†µ ====================

  - id: edge_empty
    description: "è¾¹ç¼˜ - æçŸ­è¾“å…¥"
    category: edge_case
    input:
      user_query: "?"
    expected:
      complexity: simple
      needs_plan: false
    tolerance:
      task_type: any
    tags: ["edge", "short"]

  - id: edge_emoji
    description: "è¾¹ç¼˜ - çº¯ emoji"
    input:
      user_query: "ğŸ‘"
    expected:
      # çº¯ emoji æ˜¯æç«¯è¾¹ç¼˜æƒ…å†µï¼ŒLLM å¯èƒ½æ— æ³•æ­£ç¡®è§£æ
      needs_multi_agent: false
    tolerance:
      task_type: any
      complexity: [simple, medium]  # LLM å¯èƒ½è¿”å›é»˜è®¤å€¼
      needs_plan: [true, false]
    tags: ["edge", "emoji"]

  - id: edge_mixed_lang
    description: "è¾¹ç¼˜ - ä¸­è‹±æ··åˆ"
    input:
      user_query: "å¸®æˆ‘ write a Python function æ¥å®ç° quick sort"
    expected:
      task_type: code_task
    tolerance:
      task_type: [code_task, other]  # ä¸­è‹±æ··åˆå¯èƒ½è¢«è¯¯è¯†åˆ«
      complexity: [simple, medium]
    tags: ["edge", "mixed_lang"]

  - id: edge_long_context
    description: "è¾¹ç¼˜ - é•¿ä¸Šä¸‹æ–‡"
    input:
      conversation_history:
        - role: user
          content: "æˆ‘ä»¬æ¥è®¨è®ºä¸€ä¸‹æœºå™¨å­¦ä¹ "
        - role: assistant
          content: "å¥½çš„ï¼Œæœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯..."
        - role: user
          content: "é‚£æ·±åº¦å­¦ä¹ å‘¢"
        - role: assistant
          content: "æ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªå­é¢†åŸŸ..."
        - role: user
          content: "Transformer æ¶æ„å‘¢"
        - role: assistant
          content: "Transformer æ˜¯ä¸€ç§æ³¨æ„åŠ›æœºåˆ¶..."
      user_query: "æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬åˆšæ‰è®¨è®ºçš„å†…å®¹"
    expected:
      is_follow_up: true
      task_type: content_generation
    tolerance:
      task_type: [content_generation, information_query]
    tags: ["edge", "long_context"]

  # ==================== 11. ä»»åŠ¡ä¾èµ–ç±»å‹ï¼ˆV9.2 æ–°å¢ï¼‰====================

  - id: dependency_independent_weather
    description: "å®Œå…¨ç‹¬ç«‹ - å¤šåŸå¸‚å¤©æ°”"
    category: task_dependency
    input:
      user_query: "åŒæ—¶æŸ¥è¯¢åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³å››ä¸ªåŸå¸‚çš„å¤©æ°”"
    expected:
      task_dependency_type: independent
      needs_multi_agent: true
    tags: ["dependency", "independent"]

  - id: dependency_independent_research
    description: "å®Œå…¨ç‹¬ç«‹ - å¤šå…¬å¸ç ”ç©¶"
    input:
      user_query: "åˆ†åˆ«ç ”ç©¶ AWSã€Azureã€GCP çš„äº‘æœåŠ¡æ¶æ„"
    expected:
      task_dependency_type: independent
      needs_multi_agent: true
    tolerance:
      task_dependency_type: [independent, mixed]
    tags: ["dependency", "independent"]

  - id: dependency_sequential_code
    description: "ä¸²è¡Œä¾èµ– - ä»£ç å¼€å‘"
    input:
      user_query: "å¸®æˆ‘å†™ä¸€ä¸ª Python æ’åºå‡½æ•°å¹¶è¡¥å……å•å…ƒæµ‹è¯•"
    expected:
      task_dependency_type: sequential
      needs_multi_agent: false
    tags: ["dependency", "sequential"]

  - id: dependency_sequential_fullstack
    description: "ä¸²è¡Œä¾èµ– - å…¨æ ˆå¼€å‘"
    input:
      user_query: "å¸®æˆ‘å¼€å‘ä¸€ä¸ªç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼ŒåŒ…æ‹¬å‰ç«¯ç•Œé¢ã€åç«¯ API å’Œæ•°æ®åº“è®¾è®¡"
    expected:
      task_dependency_type: sequential
      needs_multi_agent: false
      execution_strategy: rvr-b
    tags: ["dependency", "sequential"]

  - id: dependency_sequential_workflow
    description: "ä¸²è¡Œä¾èµ– - åˆ†ææŠ¥å‘Šå·¥ä½œæµ"
    input:
      user_query: "åˆ†æé”€å”®æ•°æ®ï¼Œç”Ÿæˆå›¾è¡¨ï¼Œç„¶åå†™ä¸€ä»½åˆ†ææŠ¥å‘Š"
    expected:
      task_dependency_type: sequential
      needs_multi_agent: false
    tags: ["dependency", "sequential"]

  - id: dependency_mixed_research_report
    description: "æ··åˆä¾èµ– - è°ƒç ”+æ±‡æ€»"
    input:
      user_query: "åˆ†åˆ«è°ƒç ” AWSã€Azureã€GCP çš„å®šä»·ç­–ç•¥ï¼Œç„¶åå†™ä¸€ä»½å¯¹æ¯”æŠ¥å‘Š"
    expected:
      task_dependency_type: mixed
      needs_multi_agent: true
      execution_strategy: rvr-b
    tags: ["dependency", "mixed"]

  - id: dependency_mixed_top5
    description: "æ··åˆä¾èµ– - Top N åˆ†æ"
    input:
      user_query: "ç ”ç©¶ Top 5 äº‘è®¡ç®—å…¬å¸çš„ AI æˆ˜ç•¥ï¼Œç”Ÿæˆåˆ†ææŠ¥å‘Š"
    expected:
      task_dependency_type: mixed
      needs_multi_agent: true
    tolerance:
      task_dependency_type: [mixed, independent]
    tags: ["dependency", "mixed"]

  - id: dependency_sequential_translate
    description: "ä¸²è¡Œä¾èµ– - é•¿æ–‡æ¡£ç¿»è¯‘"
    input:
      user_query: "å¸®æˆ‘æŠŠè¿™ç¯‡ 10 é¡µçš„è‹±æ–‡è®ºæ–‡ç¿»è¯‘æˆä¸­æ–‡"
    expected:
      task_dependency_type: sequential
      needs_multi_agent: false
    tags: ["dependency", "sequential"]

  - id: dependency_sequential_ppt
    description: "ä¸²è¡Œä¾èµ– - PPT ç”Ÿæˆ"
    input:
      user_query: "å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªäº§å“ä»‹ç» PPT"
    expected:
      task_dependency_type: sequential
      needs_multi_agent: false
    tags: ["dependency", "sequential"]

  - id: dependency_boundary_2_entities
    description: "è¾¹ç•Œ - 2ä¸ªå®ä½“ï¼ˆç‹¬ç«‹ä½†ä¸è§¦å‘å¤šæ™ºèƒ½ä½“ï¼‰"
    input:
      user_query: "å¯¹æ¯” Python å’Œ JavaScript çš„æ€§èƒ½"
    expected:
      task_dependency_type: independent
      needs_multi_agent: false
    tags: ["dependency", "boundary"]

  # ==================== 12. ä¾èµ–ç±»å‹ä¸å¤šæ™ºèƒ½ä½“ä¸€è‡´æ€§ ====================

  - id: consistency_dependency_multi_agent
    description: "ä¸€è‡´æ€§ - independent/mixed å¯è§¦å‘å¤šæ™ºèƒ½ä½“"
    category: dependency_consistency
    input:
      user_query: "å¯¹æ¯” AWSã€Azureã€GCP ä¸‰å®¶äº‘æœåŠ¡å•†çš„ AI æˆ˜ç•¥"
    expected:
      task_dependency_type: mixed
      needs_multi_agent: true
    consistency_rules:
      - "needs_multi_agent == true implies task_dependency_type in ['independent', 'mixed']"
    tags: ["consistency", "dependency"]

  - id: consistency_dependency_single_agent
    description: "ä¸€è‡´æ€§ - sequential ä¸è§¦å‘å¤šæ™ºèƒ½ä½“"
    input:
      user_query: "å¸®æˆ‘å†™ä¸€ä¸ªç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼Œå…ˆå†™åç«¯ APIï¼Œç„¶åå†™å‰ç«¯ç•Œé¢ï¼Œæœ€åå†™æµ‹è¯•"
    expected:
      task_dependency_type: sequential
      needs_multi_agent: false
    consistency_rules:
      - "task_dependency_type == 'sequential' implies needs_multi_agent == false"
    tags: ["consistency", "dependency"]

  - id: consistency_2_entity_no_multi
    description: "ä¸€è‡´æ€§ - 2ä¸ªå®ä½“ä¸è§¦å‘å¤šæ™ºèƒ½ä½“"
    input:
      user_query: "å¯¹æ¯” React å’Œ Vue çš„ä¼˜ç¼ºç‚¹"
    expected:
      needs_multi_agent: false
    consistency_rules:
      - "entity_count < 3 implies needs_multi_agent == false"
    tags: ["consistency", "entity_count"]
