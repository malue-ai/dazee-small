---
description: "文档编写规范"
globs:
  - "docs/**/*.md"
  - "README.md"
  - "*.md"
alwaysApply: true
---

# 文档编写规范

## 核心原则
- 写给未来的同事看：先说"是什么/为什么/怎么用"
- 可复制：命令、配置、代码块要可直接复制执行
- 少而精：避免冗长模板和无意义占位符
- 保持同步：代码变更时同步更新文档

## README 必备章节
- 项目一句话介绍
- 快速开始（安装、启动、最小可运行示例）
- 配置（环境变量、关键配置项）
- 常见问题（真实踩坑经验）

### README 示例

```markdown
## 快速开始

```bash
python -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
python main.py
```

验证服务：

```bash
pytest -q
```
```

## API 文档格式

```markdown
## 发送聊天消息

**端点**：`POST /chat`

**请求体**：
```json
{ "message": "你好", "session_id": "sess-123" }
```

**成功响应**：
```json
{ "success": true, "response": "..." }
```

**错误响应**：
```json
{ "success": false, "error": "缺少 session_id" }
```
```

## 代码块规范
- 命令使用 `bash` 代码块
- 配置使用 `yaml` / `json` 代码块
- Python 示例包含中文注释（解释关键步骤）
- 避免无意义占位符

## 设计文档章节（docs/）
- 背景与目标
- 术语
- 协议/接口约定（含错误码）
- 示例（至少 1 个完整例子）
- 兼容性/迁移（若有破坏性变更）

## 引用与链接
- 站内文件使用相对路径
- 链接文本要有意义（不要只写"点击这里"）

## 维护约定
- 破坏性变更必须更新文档并说明迁移方式
- 文档标题与文件名保持一致
- 同一主题不要在多个文档中重复（优先链接到单一来源）

## 禁止事项
- ❌ 文档与代码不同步
- ❌ 代码块无法复制执行
- ❌ 堆满占位内容（"详细内容..."）
- ❌ 链接失效
