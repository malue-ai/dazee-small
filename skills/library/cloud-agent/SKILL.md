---
name: cloud-agent
description: 将任务委托给云端 Agent 执行，适合需要持续运行、沙箱隔离或随时可达的长时间任务
version: 1.0.0
---

# Cloud Agent Skill

## 什么是云端协同

本地 Agent（运行在你的电脑上）与云端 Agent（运行在服务器上，全天候在线）可以相互协作。
当某些任务更适合云端完成时，使用 `cloud_agent` 工具将任务"转包"给云端，然后实时看到进度。

---

## 分工边界：何时使用云端

### ✅ 适合云端的 3 类任务

**1. 持续运行的定时任务**
> "每天早上 8 点发送市场摘要"
> "每小时检查一次指定 API 的状态"
> "本地电脑关机后还需要继续运行的任务"

**2. 需要沙箱隔离的代码执行**
> "运行不信任的第三方代码"
> "需要完整 Linux 环境的编译/测试任务"
> "消耗大量资源的批量数据处理"

**3. 手机/IM 随时可达的长时间任务**
> "我关掉电脑后还要继续的调研任务"
> "需要 2 小时才能完成，期间我可能切换设备"
> "任务完成后通过飞书/微信通知我"

---

## 分工边界：何时留在本地

### ❌ 不适合云端的情况

| 场景 | 原因 | 推荐做法 |
|------|------|---------|
| 访问本地文件/应用 | 云端无本地权限 | 直接在本地执行 |
| 需要 UI 操作/截图 | 云端无桌面环境 | 使用 peekaboo / claude-computer-use |
| 简单的一次性查询 | 网络往返开销不值得 | 直接回答或调用本地工具 |
| 需要实时用户交互 | 云端 HITL 延迟高 | 本地 HITL 体验更好 |

---

## Few-Shot 示例

### ✅ 正例：应该使用 cloud_agent

```
用户: "帮我每天分析一次 A 股市场，生成摘要，然后发到飞书"
→ 调用 cloud_agent(task="每日 A 股市场分析与飞书推送", context="...")
   理由: 定时任务 + 本地不需要在线
```

```
用户: "帮我跑这段 Python 脚本，它会下载大量数据并训练模型，可能要 1 小时"
→ 调用 cloud_agent(task="运行数据处理脚本...", context="代码: ...")
   理由: 耗时任务 + 需要沙箱隔离
```

```
用户: "我要出去吃饭了，你帮我把这 50 篇论文读完并写摘要，我回来看结果"
→ 调用 cloud_agent(task="阅读 50 篇论文并生成摘要", context="论文列表: ...")
   理由: 用户离线期间仍需运行
```

### ❌ 反例：不应该使用 cloud_agent

```
用户: "帮我整理桌面上的文件"
→ 直接使用 file-manager，不调用 cloud_agent
   理由: 需要访问本地文件系统
```

```
用户: "帮我截一张屏幕截图"
→ 直接使用 macos-screenshot，不调用 cloud_agent
   理由: 需要本地桌面环境
```

```
用户: "今天天气怎么样"
→ 直接回答，不调用 cloud_agent
   理由: 简单查询，无需委托云端
```

---

## 使用说明

当你判断任务适合云端执行时，调用 `cloud_agent` 工具：

```
cloud_agent(
  task="清晰描述要完成的任务",
  context="可选：相关背景信息、数据、约束条件"
)
```

工具会：
1. 在云端创建任务并立即返回任务 ID
2. 实时将云端的执行进度推送到对话界面（时间线卡片）
3. 任务完成后返回最终结果摘要

**前提条件**：需要先在设置页面绑定云端（输入云端地址、用户名、密码）
